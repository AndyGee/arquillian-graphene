<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<parent>
		<groupId>org.jboss.test.richfaces-selenium</groupId>
		<artifactId>root</artifactId>
		<version>1.5.0-SNAPSHOT</version>
	</parent>
	<groupId>org.jboss.test</groupId>
	<artifactId>richfaces-selenium</artifactId>
	<packaging>jar</packaging>
	<name>RichFaces-Selenium: Library</name>

	<dependencies>
		<dependency>
			<groupId>org.testng</groupId>
			<artifactId>testng</artifactId>
			<scope>compile</scope>
		</dependency>
		<dependency>
			<groupId>org.seleniumhq.selenium.client-drivers</groupId>
			<artifactId>selenium-java-client-driver</artifactId>
			<scope>compile</scope>
		</dependency>
		<dependency>
			<groupId>commons-lang</groupId>
			<artifactId>commons-lang</artifactId>
			<scope>compile</scope>
		</dependency>
		<dependency>
			<groupId>commons-io</groupId>
			<artifactId>commons-io</artifactId>
			<scope>compile</scope>
		</dependency>
	</dependencies>

	<properties>
		<source.javascript>${basedir}/src/main/javascript</source.javascript>
	</properties>

	<build>
		<resources>
			<resource>
				<directory>${source.javascript}</directory>
				<filtering>false</filtering>
				<targetPath>${project.build.outputDirectory}/javascript</targetPath>
			</resource>
		</resources>
		<plugins>
			<plugin>
				<artifactId>maven-antrun-plugin</artifactId>
				<executions>
					<execution>
						<id>concatenate-extensions</id>
						<phase>process-test-resources</phase>
						<goals>
							<goal>run</goal>
						</goals>
						<configuration>
							<tasks>
								<echo>Compiling JavaScript: user-extensions.js</echo>
								<concat destfile="${project.build.outputDirectory}/user-extensions.js"
									fixlastline="yes">
									<filelist dir="${source.javascript}/selenium-extensions"
										files="goog/base.js jquery/jquery.js jquery/jquery-selector-extensions.js event-recorder/event-recorder.js event-recorder/event-recorder-selenium-binding.js extended-selenium.js" />
								</concat>
								<echo>Compiling JavaScript: richfaces-selenium-core.js</echo>
								<concat
									destfile="${project.build.outputDirectory}/page-extensions.js"
									fixlastline="yes">
									<filelist dir="${source.javascript}/page-extensions"
										files="RichFacesSelenium.js XMLHttpRequest-proxy.js XMLHttpRequest-injection.js" />
								</concat>
							</tasks>
						</configuration>
					</execution>
				</executions>
			</plugin>
		</plugins>
	</build>
</project>
